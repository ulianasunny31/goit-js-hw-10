{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["//Imports\nimport flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n//Declarations\nconst startBtnEl = document.querySelector('button[data-start]');\nconst inputEl = document.querySelector('#datetime-picker');\nconst dateNow = Date.now();\nconst daysEl = document.querySelector('span[data-days]');\nconst hoursEl = document.querySelector('span[data-hours]');\nconst minutesEl = document.querySelector('span[data-minutes]');\nconst secondsEl = document.querySelector('span[data-seconds]');\nlet userSelectedDate = '';\nconst notifOpt = {\n  message: 'Please choose a date in the future',\n  messageColor: 'black',\n  messageSize: '14px',\n  position: 'topRight',\n  timeout: 4000,\n  color: 'yellow',\n  closeOnClick: true,\n};\n\n//Calendar\nstartBtnEl.disabled = true;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n\n  onClose(selectedDates) {\n    if (selectedDates[0].getTime() < dateNow) {\n      iziToast.show(notifOpt);\n    } else {\n      userSelectedDate = selectedDates[0];\n      console.log(userSelectedDate);\n      startBtnEl.disabled = false;\n    }\n  },\n};\n\nconst calendar = flatpickr(inputEl, options);\n\n//Timer\nstartBtnEl.addEventListener('click', handleTimerStart);\n\nfunction handleTimerStart(e) {\n  e.preventDefault();\n\n  startBtnEl.disabled = true;\n  inputEl.disabled = true;\n\n  const intervalID = setInterval(() => {\n    const dateNow = Date.now();\n    const difference = userSelectedDate - dateNow;\n\n    //Stoping\n    if (difference <= 0) {\n      clearInterval(intervalID);\n      startBtnEl.disabled = false;\n      inputEl.disabled = false;\n\n      daysEl.innerHTML = '00';\n      hoursEl.innerHTML = '00';\n      minutesEl.innerHTML = '00';\n      secondsEl.innerHTML = '00';\n      return;\n    }\n\n    const timeLeft = convertMs(difference);\n\n    const days = addLeadingZero(timeLeft.days);\n    const hours = addLeadingZero(timeLeft.hours);\n    const minutes = addLeadingZero(timeLeft.minutes);\n    const seconds = addLeadingZero(timeLeft.seconds);\n\n    //Html changes\n    daysEl.innerHTML = days;\n    hoursEl.innerHTML = hours;\n    minutesEl.innerHTML = minutes;\n    secondsEl.innerHTML = seconds;\n  }, 1000);\n}\n//Getting time gap\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\n//Styling the timer correctly\nfunction addLeadingZero(value) {\n  return value.toString().padStart(2, 0);\n}\n"],"names":["startBtnEl","inputEl","dateNow","daysEl","hoursEl","minutesEl","secondsEl","userSelectedDate","notifOpt","options","selectedDates","iziToast","flatpickr","handleTimerStart","intervalID","difference","timeLeft","convertMs","days","addLeadingZero","hours","minutes","seconds","ms","value"],"mappings":"+IAOA,MAAMA,EAAa,SAAS,cAAc,oBAAoB,EACxDC,EAAU,SAAS,cAAc,kBAAkB,EACnDC,EAAU,KAAK,MACfC,EAAS,SAAS,cAAc,iBAAiB,EACjDC,EAAU,SAAS,cAAc,kBAAkB,EACnDC,EAAY,SAAS,cAAc,oBAAoB,EACvDC,EAAY,SAAS,cAAc,oBAAoB,EAC7D,IAAIC,EAAmB,GACvB,MAAMC,EAAW,CACf,QAAS,qCACT,aAAc,QACd,YAAa,OACb,SAAU,WACV,QAAS,IACT,MAAO,SACP,aAAc,EAChB,EAGAR,EAAW,SAAW,GAEtB,MAAMS,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EAEjB,QAAQC,EAAe,CACjBA,EAAc,CAAC,EAAE,QAAO,EAAKR,EAC/BS,EAAS,KAAKH,CAAQ,GAEtBD,EAAmBG,EAAc,CAAC,EAClC,QAAQ,IAAIH,CAAgB,EAC5BP,EAAW,SAAW,GAEzB,CACH,EAEiBY,EAAUX,EAASQ,CAAO,EAG3CT,EAAW,iBAAiB,QAASa,CAAgB,EAErD,SAASA,EAAiB,EAAG,CAC3B,EAAE,eAAc,EAEhBb,EAAW,SAAW,GACtBC,EAAQ,SAAW,GAEnB,MAAMa,EAAa,YAAY,IAAM,CACnC,MAAMZ,EAAU,KAAK,MACfa,EAAaR,EAAmBL,EAGtC,GAAIa,GAAc,EAAG,CACnB,cAAcD,CAAU,EACxBd,EAAW,SAAW,GACtBC,EAAQ,SAAW,GAEnBE,EAAO,UAAY,KACnBC,EAAQ,UAAY,KACpBC,EAAU,UAAY,KACtBC,EAAU,UAAY,KACtB,MACD,CAED,MAAMU,EAAWC,EAAUF,CAAU,EAE/BG,EAAOC,EAAeH,EAAS,IAAI,EACnCI,EAAQD,EAAeH,EAAS,KAAK,EACrCK,EAAUF,EAAeH,EAAS,OAAO,EACzCM,EAAUH,EAAeH,EAAS,OAAO,EAG/Cb,EAAO,UAAYe,EACnBd,EAAQ,UAAYgB,EACpBf,EAAU,UAAYgB,EACtBf,EAAU,UAAYgB,CACvB,EAAE,GAAI,CACT,CAEA,SAASL,EAAUM,EAAI,CAQrB,MAAML,EAAO,KAAK,MAAMK,EAAK,KAAG,EAE1BH,EAAQ,KAAK,MAAOG,EAAK,MAAO,IAAI,EAEpCF,EAAU,KAAK,MAAQE,EAAK,MAAO,KAAQ,GAAM,EAEjDD,EAAU,KAAK,MAASC,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAL,EAAM,MAAAE,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAGA,SAASH,EAAeK,EAAO,CAC7B,OAAOA,EAAM,SAAU,EAAC,SAAS,EAAG,CAAC,CACvC"}